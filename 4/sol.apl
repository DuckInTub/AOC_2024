⍝ Cool comment
⎕io←0
crdnls←{1@(3+⍵)⊢7 7⍴0}¨1↓,∘.{c∘×¨⍳4⊣c←⍺,⍵}⍨0 1 ¯1

d←↑⊃⎕nget 'input.txt' 1
+/,{'X'=⍵[3;3]: 'XMAS'∘(≡∨≡∘⌽)¨s←/⍥,∘⍵¨crdnls ⋄ 0}⌺7 7⊢d

ptrn←((⊖,⍥⊂⊢)∘⍉,(⌽,⍥⊂⊢))3 3⍴'M.S.A.M.S'
i←⍸0=(⌽+⊢)(,⍨⍴1↑⍨1∘+)3
+/,{ptrn∊⍨⊂'.'@i⊢⍵}⌺3 3⊢d
